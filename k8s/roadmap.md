- Dockerのベースイメージにはdistrolessを使用する
    - パッケージマネージャ、シェルなどが入ってないためセキュリティ脆弱性が最小限、サイズが軽量
        - そのため、ビルドができないが、マルチステージビルドで解決できる
- Quay.ioでクラウドにコンテナレジストリを構築できる
- RailsをDockerで起動する際は、server.pidを削除するため、entrypoint.shを実行する
    - https://github.com/docker/awesome-compose/tree/master/official-documentation-samples/rails/
- Goの場合はビルドしたバイナリがあれば実行できるのでdistolessで起動できる
    - https://github.com/GoogleContainerTools/distroless/blob/main/examples/go/Dockerfile
    - https://docs.docker.com/language/golang/build-images/#multi-stage-builds
- PodDisruptionBudgetで安全なメンテナンスができる
- preStopでsleepさせるとアプリケーションを安全に停止できる
- 高度なJobの並列処理を行う場合は、CronJobでは機能が不足しているためArgo Workflowsなどが使える
- データベース構築、データのバックアップ、リストア、データベース自体のアップグレード処理を自動で行うkubernetes operatorを検討する
    - ノード数やデータ容量が大きい環境の場合推奨
    - https://operatorhub.io/
